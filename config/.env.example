# CertDeliver Environment Configuration
# Copy this file to .env and configure your settings

# =====================================
# Server Configuration
# =====================================

# API authentication token (REQUIRED)
CERTDELIVER_TOKEN=your-secure-token-here

# Comma-separated list of allowed domains for whitelist
# Example: CERTDELIVER_DOMAIN_LIST=server1.example.com,server2.example.com
CERTDELIVER_DOMAIN_LIST=

# Server bind address and port
CERTDELIVER_HOST=0.0.0.0
CERTDELIVER_PORT=8000

# Directory containing certificate archives
CERTDELIVER_TARGETS_DIR=/opt/CertDeliver/targets

# Log file path (optional, logs to stdout if not set)
# CERTDELIVER_LOG_FILE=/var/log/certdeliver/server.log

# =====================================
# Client Configuration
# =====================================

# CertDeliver server URL (REQUIRED for client)
CERTDELIVER_CLIENT_SERVER_URL=https://cert.example.com/api/v1/

# API authentication token (REQUIRED for client)
CERTDELIVER_CLIENT_TOKEN=your-secure-token-here

# Certificate name (matches certbot --cert-name)
CERTDELIVER_CLIENT_CERT_NAME=cert

# Destination path for installed certificates
CERTDELIVER_CLIENT_CERT_DEST_PATH=/etc/ssl/certs/certdeliver

# Local cache directory for downloaded certs
CERTDELIVER_CLIENT_LOCAL_CACHE_DIR=/var/cache/certdeliver

# Command to run after certificate update (optional)
# Example: CERTDELIVER_CLIENT_POST_UPDATE_COMMAND=systemctl reload nginx
# CERTDELIVER_CLIENT_POST_UPDATE_COMMAND=

# Request timeout in seconds
CERTDELIVER_CLIENT_TIMEOUT=30

# Verify SSL certificates (set to false for self-signed certs)
CERTDELIVER_CLIENT_VERIFY_SSL=true

# =====================================
# Certbot Hook Configuration
# =====================================

# Let's Encrypt live certificates directory
CERTDELIVER_HOOK_LETSENCRYPT_LIVE_DIR=/etc/letsencrypt/live

# Output directory for packaged certificates
CERTDELIVER_HOOK_OUTPUT_DIR=/opt/CertDeliver/targets

# Certificate name to package
CERTDELIVER_HOOK_CERT_NAME=cert
